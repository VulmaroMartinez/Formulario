<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="CSS/styleforms.css" rel="stylesheet" type="text/css">

    <title>Formulario</title>
</head>
<body>
 
    <center>
    <h1>Formulario</h1>
    <form action="muestraInf.html" method="get" onsubmit="return validar()">

        <input placeholder="Nombre" type="text" name="nombre" class="input1"><br>

        <input placeholder="Apellido Paterno" type="text" name="apellido1" class="input2"><br>
        
        <input placeholder="Apellido Materno" type="text" name="apellido2" class="input3"><br>
        
        <input placeholder="Correo" type="email" name="correo" class="input4"><br>
        
        <input placeholder="Fecha de nacimiento" type="text" onfocus="(this.type='date')" name="fnac" class="input5"><br>
        
        <input placeholder="Telefono" type="number" name="telefono" class="input6"><br>
        
        <input placeholder="Usuario" type="text" name="usuario" class="input7"><br>
        
        <input placeholder="Contraseña" type="password" name="password" class="input8"><br>
        
        <input placeholder="Repetir Contraseña" type="password" name="repassword" class="input9"><br>
        
        <button type="submit" value="Registrar"> SUBIR </button><br>
    
    </form>
    </center>
</body>
</html>
<script>
    getParameter=(key)=>{
        address=window.location.search;
        parameterList = new URLSearchParams(address);
        return parameterList.get(key);
    }
    var nombre=getParameter("nombre");
    var apellido1=getParameter("apellido1");
    var apellido2=getParameter("apellido2");
    var correo=getParameter("correo");
    var fnac=getParameter("fnac");
    var telefono=getParameter("telefono");
    var usuario=getParameter("usuario");

    if (usuario!=null) {
        document.getElementById("usuario").innerHTML = "User: " + usuario;
    }
    if (nombre!=null) {
        document.getElementById("nombre").innerHTML = "Nombre: " + nombre;
    }
    if (apellido1!=null) {
        document.getElementById("apellido1").innerHTML = "Apellidos: " + apellido1;
    }
    if (apellido2!=null) {
        document.getElementById("apellido2").innerHTML = "Apellidos: " + apellido2;
    }
    if (correo!=null) {
        document.getElementById("correo").innerHTML = "Enviar correo a: " + correo;
        document.getElementById("correo").href = "mailto:" + correo;
    }
    if (telefono!=null) {
        document.getElementById("telefono").innerHTML = "Llamar a: " + telefono;
        document.getElementById("telefono").href = "tel:" + telefono;
    }
    if (fnac!=null) {
        let fyear=fnac.split('-');
        let edad=(2023-fyear[0]);
        document.getElementById("edad").innerHTML = edad + " años";
    }

    function validar() {
                var password = document.getElementsByName("password")[0].value;
                var repassword = document.getElementsByName("repassword")[0].value;

                if (password.length < 5) {
                    alert("La contraseña es muy corta, debe contener más de 5 caracteres");
                    return false;
                }

                if (password !== repassword) {
                    alert("las contraseñas no coinciden");
                    return false;
                }

                return true;
            }
</script>